<div class="exchange-container">
  <h2>Exchange Rates</h2>

  <table class="exchange-table">
    <thead>
    <tr>
      <th>Currency</th>
      <th>Buy Rate</th>
      <th>Sell Rate</th>
    </tr>
    </thead>
    <tbody>
    <ng-container *ngFor="let rate of exchageRateList">
      <tr *ngIf="rate.toCurrency.code === 'RSD'">
        <td>{{ rate.fromCurrency.code }}</td>
        <td>{{ rate.exchangeRate }} RSD</td>
        <td>{{ rate.sellRate }} RSD</td>
      </tr>
    </ng-container>
    </tbody>
  </table>

  <label for="popupToggle" class="open-popup">Currency Conversion</label>
</div>

<!-- Popup for Exchange Calculation -->
<input type="checkbox" id="popupToggle" class="popup-toggle">

<div class="popup">
  <div class="popup-content">
    <h3>Currency Conversion</h3>

    <div class="form-group">
      <input-text
        [(ngModel)]="exchangeAmount"
        (input)="exchangeRateCalculation()"
        placeholder="Enter amount"
        label="Amount"
        type="number"
      ></input-text>
    </div>

    <div class="form-group">
      <app-select label="From Currency" [(ngModel)]="fromCurrency" (change)="onFromCurrencyChange()">
        <option *ngFor="let currency of currencies" [value]="currency">{{ currency }}</option>
      </app-select>
    </div>

    <div class="form-group">
      <app-select label="To Currency" [(ngModel)]="toCurrency" (change)="onToCurrencyChange()">
        <option *ngFor="let currency of availableToCurrencies" [value]="currency">{{ currency }}</option>
      </app-select>
    </div>

    <p class="result">Equivalent: {{ convertedAmount }} {{ toCurrency }}</p>

    <label for="popupToggle" class="btn close">Close</label>
  </div>
</div>
